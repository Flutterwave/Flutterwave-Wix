(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("counter", [], factory);
	else if(typeof exports === 'object')
		exports["counter"] = factory();
	else
		root["counter"] = factory();
})((typeof self !== 'undefined' ? self : this), () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/*!******************************!*\
  !*** ./index.ts + 5 modules ***!
  \******************************/
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  parseLeanSchemaRef: () => (/* reexport */ parseLeanSchemaRef),
  resolveUrl: () => (/* reexport */ resolveUrl),
  toURLSearchParams: () => (/* reexport */ toURLSearchParams)
});

;// CONCATENATED MODULE: ./serialization/utils.ts
function parseLeanSchemaRef(renderedSchemaName){if(renderedSchemaName===void 0){renderedSchemaName='';}const[typeOrName,schemaName]=getSchemaNameAndType(renderedSchemaName);if(schemaName){return{schemaName,schemaType:typeOrName};}return{schemaName:typeOrName};}// if there is no type, returns only the name
const getSchemaNameAndType=leanSchema=>leanSchema.split('#');
;// CONCATENATED MODULE: ./serialization/index.ts

;// CONCATENATED MODULE: ./utils.ts
function findByPath(obj,path,defaultValue,suffix){let result=obj;for(const field of path.split('.')){if(!result){return defaultValue;}result=result[field];}return`${result}${suffix}`;}
;// CONCATENATED MODULE: ./url-resolver.ts
const USER_DOMAIN='_';const DOMAINS=['wix.com','editorx.com'];const WIX_API_DOMAINS=['42.wixprod.net','uw2-edt-1.wixprod.net'];const DEV_WIX_CODE_DOMAIN='dev.wix-code.com';const REGEX_CAPTURE_PROTO_FIELD=/{(.*)}/;const REGEX_CAPTURE_DOMAINS=new RegExp(`\\.(${DOMAINS.join('|')})$`);const REGEX_CAPTURE_API_DOMAINS=new RegExp(`\\.(${WIX_API_DOMAINS.join('|')})$`);const REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN=new RegExp(`.*\\.${DEV_WIX_CODE_DOMAIN}$`);function resolveUrl(opts){const domain=resolveDomain(opts.host);const mappings=resolveMappingsByDomain(domain,opts.domainToMappings);const path=injectDataIntoProtoPath(opts.protoPath,opts.data||{});return resolvePath(path,mappings);}function injectDataIntoProtoPath(protoPath,data){return protoPath.split('/').map(path=>maybeProtoPathToData(path,data)).join('/');}function maybeProtoPathToData(protoPath,data){const protoRegExpMatch=protoPath.match(REGEX_CAPTURE_PROTO_FIELD)||[];const field=protoRegExpMatch[1];if(field){const suffix=protoPath.replace(protoRegExpMatch[0],'');return findByPath(data,field,protoPath,suffix);}return protoPath;}function resolveDomain(host){const resolvedHost=fixHostExceptions(host);return resolvedHost.replace(REGEX_CAPTURE_DOMAINS,'._base_domain_').replace(REGEX_CAPTURE_API_DOMAINS,'._api_base_domain_').replace(REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN,'*.dev.wix-code.com');}// hosts which standard string replacing doesn't apply to them, will be fixed here.
function fixHostExceptions(host){// https://system-kb.wixanswers.com/kb/en/article/editorx-domains-matching-to-wixcom
return host.replace('create.editorx.com','editor.editorx.com');}function resolveMappingsByDomain(domain,domainToMappings){const mappings=domainToMappings[domain]||domainToMappings[USER_DOMAIN];if(!mappings){if(isBaseDomain(domain)){// fallback <lang>.wix.com sub domains to www.wix.com
// since all of the languages subdomain are not mapped automatically in FP and we want to support those kind of calls
// for example: fr.wix.com
return domainToMappings[wwwBaseDomain];}}return mappings;}function resolvePath(protoPath,mappings){const mapping=mappings==null?void 0:mappings.find(m=>protoPath.startsWith(m.destPath));if(!mapping){// todo: should we return the path? if no - what should we do in case of testings?
return protoPath;}return mapping.srcPath+protoPath.slice(mapping.destPath.length);}function isBaseDomain(domain){return!!domain.match(/\._base_domain_$/);}const wwwBaseDomain='www._base_domain_';
;// CONCATENATED MODULE: ./flatten-params.ts
// Flatten a nested object to params object { field: { text: 'foo' } } => { field.text ='foo' }
function flattenParams(data,path){if(path===void 0){path='';}const params={};Object.entries(data).forEach(_ref=>{let[key,value]=_ref;const isObject=value!==null&&typeof value==='object'&&!Array.isArray(value);const fieldPath=flatten_params_resolvePath(path,key);if(isObject){const serializedObject=flattenParams(value,fieldPath);Object.assign(params,serializedObject);}else{params[fieldPath]=value;}});return params;}function flatten_params_resolvePath(path,key){return`${path}${path?'.':''}${key}`;}function toURLSearchParams(params){const flatten=flattenParams(params);return Object.entries(flatten).reduce((urlSearchParams,_ref2)=>{let[key,value]=_ref2;// inorder to make `foo: [1,2]` turn into `foo=1&foo=2` and not `foo[]=1&foo[]=2`
const keyParams=Array.isArray(value)?value:[value];keyParams.forEach(param=>{if(param===undefined||param===null){return;}urlSearchParams.append(key,param);});return urlSearchParams;},new URLSearchParams());}
;// CONCATENATED MODULE: ./index.ts

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=metro-runtime.umd.js.map